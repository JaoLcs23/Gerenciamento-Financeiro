<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.ColumnConstraints?>

<VBox xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.controle.view.BudgetController"
      styleClass="root" alignment="TOP_CENTER" spacing="15">

    <HBox spacing="20" alignment="CENTER">
        <VBox spacing="10" HBox.hgrow="ALWAYS" prefWidth="350">
            <GridPane hgap="15" vgap="10">
                <columnConstraints>
                    <ColumnConstraints hgrow="ALWAYS" minWidth="160"/>
                    <ColumnConstraints hgrow="ALWAYS" minWidth="160"/>
                </columnConstraints>
                <ComboBox fx:id="categoryComboBox" promptText="Categoria (Despesa)" styleClass="combo-box" prefHeight="40" maxWidth="Infinity" GridPane.columnIndex="0" GridPane.rowIndex="0" GridPane.columnSpan="2"/>
                <Label fx:id="categoryErrorLabel" styleClass="error-message-label" minHeight="15" GridPane.columnIndex="0" GridPane.rowIndex="1" GridPane.columnSpan="2"/>

                <ComboBox fx:id="mesComboBox" promptText="Mês" styleClass="combo-box" prefHeight="40" maxWidth="Infinity" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                <ComboBox fx:id="anoComboBox" promptText="Ano" styleClass="combo-box" prefHeight="40" maxWidth="Infinity" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                <Label fx:id="mesErrorLabel" styleClass="error-message-label" minHeight="15" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                <Label fx:id="anoErrorLabel" styleClass="error-message-label" minHeight="15" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                <TextField fx:id="valorLimiteField" promptText="Valor Limite (R$)" styleClass="text-field" prefHeight="40" GridPane.columnIndex="0" GridPane.rowIndex="4" />
                <Label fx:id="valorLimiteErrorLabel" styleClass="error-message-label" minHeight="15" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
            </GridPane>
        </VBox>

        <GridPane hgap="15" vgap="15">
            <columnConstraints>
                <ColumnConstraints hgrow="ALWAYS" minWidth="140" prefWidth="140"/>
                <ColumnConstraints hgrow="ALWAYS" minWidth="140" prefWidth="140"/>
            </columnConstraints>

            <Button fx:id="addBudgetButton" text="ADICIONAR" onAction="#handleAddOrUpdateBudget" styleClass="button, button-green" prefWidth="140" prefHeight="50" GridPane.columnIndex="0" GridPane.rowIndex="0">
                <graphic> <Region styleClass="form-icon, icon-add" /> </graphic>
            </Button>
            <Button fx:id="updateBudgetButton" text="ATUALIZAR" onAction="#handleAddOrUpdateBudget" disable="true" styleClass="button" prefWidth="140" prefHeight="50" GridPane.columnIndex="1" GridPane.rowIndex="0">
                <graphic> <Region styleClass="form-icon, icon-update" /> </graphic>
            </Button>
            <Button fx:id="newBudgetButton" text="LIMPAR" onAction="#handleNewBudget" styleClass="button" prefWidth="140" prefHeight="50" GridPane.columnIndex="0" GridPane.rowIndex="1">
                <graphic> <Region styleClass="form-icon, icon-clear" /> </graphic>
            </Button>
            <Button fx:id="deleteBudgetButton" text="EXCLUIR" onAction="#handleDeleteBudget" disable="true" styleClass="button, button-red" prefWidth="140" prefHeight="50" GridPane.columnIndex="1" GridPane.rowIndex="1">
                <graphic> <Region styleClass="form-icon, icon-delete" /> </graphic>
            </Button>
        </GridPane>
    </HBox>

    <Label text="Orçamentos Cadastrados" styleClass="label-section-header"/>

    <HBox spacing="10" alignment="CENTER_LEFT">
        <Label text="Filtrar por:"/>
        <ComboBox fx:id="filtroMesComboBox" promptText="Todos os Meses" styleClass="combo-box" prefWidth="200"/>
        <ComboBox fx:id="filtroAnoComboBox" promptText="Todos os Anos" styleClass="combo-box" prefWidth="200"/>
    </HBox>

    <TableView fx:id="budgetTable" VBox.vgrow="ALWAYS" styleClass="table-view">
        <columns>
            <TableColumn fx:id="colId" text="ID" prefWidth="50"/>
            <TableColumn fx:id="colCategoria" text="Categoria" prefWidth="250"/>
            <TableColumn fx:id="colValorLimite" text="Valor Limite" prefWidth="150"/>
            <TableColumn fx:id="colMes" text="Mês" prefWidth="100"/>
            <TableColumn fx:id="colAno" text="Ano" prefWidth="100"/>
        </columns>
        <columnResizePolicy>
            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
        </columnResizePolicy>
    </TableView>

</VBox>